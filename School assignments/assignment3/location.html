<!DOCTYPE html>
<html>
  <body>
    <p>Click the button to get your coordinates.</p>

    <button onclick="getLocation()">Try It</button>

    <div id="demo"></div>
    <script
      async
      defer
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAEiBLouIRytrqaMBHYASh0cIEUum0mFnc&callback=getLocation"
    ></script>
    <p id="x"></p>

    <script>
      var x = document.getElementById("x");

      function getLocation() {
        if (navigator.geolocation) {
          navigator.geolocation.getCurrentPosition(showPosition);
        } else {
          x.innerHTML = "Geolocation is not supported by this browser.";
        }
      }

      function showPosition(position) {
        const posLat = position.coords.latitude;
        const posLong = position.coords.longitude;
        var userLocation = { lat: posLat, lng: posLong };
        var map = new google.maps.Map(document.getElementById("demo"), {
          zoom: 4,
          center: userLocation
        });

        var marker = new google.maps.Marker({
          position: userLocation,
          map: map
        });
      }
    </script>
  </body>
</html>
